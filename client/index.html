<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Crystal Music</title>
		<link rel="stylesheet" href="./css/styles.css" />
		<link
			href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css"
			rel="stylesheet"
		/>
		<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
	</head>
	<body>
		<header class="header">
			<div class="header__inner container">
				<p class="header__logo">CrystalMusic</p>
				<nav class="header__menu">
					<ul class="header__list">
						<li class="header__item">
							<a href="#hero" class="header__link">Главная</a>
						</li>
						<li class="nav__item">
							<a href="#services" class="header__link">Услуги</a>
						</li>
						<li class="nav__item">
							<a href="#entry" class="header__link">Записаться</a>
						</li>
					</ul>
				</nav>
				<div class="header__buttons">
					<button class="header__button button auth" type="button">
						Авторизация
					</button>
					<button class="header__button button reg">Регистрация</button>
					<button class="header__button button book" style="display: none">
						Записаться
					</button>
					<button class="header__button button logout" style="display: none">
						Выход
					</button>
					<button class="header__admin-button button">Админ панель</button>
					<button
						class="header__cabinet-button button userCabinet"
						type="button"
					>
						Личный кабинет
					</button>
				</div>
				<div class="header__burger-btn">=</div>
			</div>
		</header>
		<main class="main">
			<div class="hero" id="hero">
				<div class="hero__section container">
					<div class="hero__info">
						<h2 class="hero__text"><span>Студия</span><br />звукозаписи</h2>
						<span class="hero__adress">Ленина 76, пв. 2</span>
					</div>
				</div>
			</div>

			<div class="services" id="services">
				<div class="services__section container">
					<div class="services__list">
						<div class="services__card card">
							<img
								src="./images/record-card.jpg"
								alt="Картинка записи"
								class="card__image"
								width="360"
							/>
							<div class="card__info">
								<h3 class="card__title">Запись</h3>

								<p class="card__description">
									В эту услуги входит полная запись по выбранному количеству
									часов, помощь профессионалов с выбором плагинов и с
									подготовкой вокала.
								</p>

								<p class="card__price">Цена за час: <span>15р</span></p>
							</div>
						</div>

						<div class="services__card card">
							<img
								src="./images/record-plus-card.jpg"
								alt="Картинка записи и сведения"
								class="card__image"
								width="300"
							/>

							<div class="card__info">
								<h3 class="card__title">Обучение</h3>

								<p class="card__description">
									В эту услуги входит обучение, включая навыки вокала,
									демонстрация работы основных приложения для работы со
									сведением и записи.
								</p>

								<p class="card__price">Цена за час: <span>30р</span></p>
							</div>
						</div>

						<div class="services__card card">
							<img
								src="./images/mixing-card.jpg"
								alt="Картинка сведения"
								class="card__image"
								width="300"
							/>

							<div class="card__info">
								<h3 class="card__title">Сведение и мастеринг</h3>

								<p class="card__description">
									В эту услуги входит сведение вашего трека по выбранному
									количеству часов, помощь профессионалов с выбором плагинов,
									настройка дорожки, подготовка к реализации, перезапись нужных
									фрагментов.
								</p>

								<p class="card__price">Цена за час: <span>20р</span></p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="entry" id="entry">
				<form action="" class="entry-form">
					<h2 class="entry-form__title">Записаться на студию</h2>
					<select
						name="category"
						id="category-select"
						required
						class="entry-form__input"
					></select>
					<input
						type="number"
						class="entry-form__input"
						placeholder="Введите количество часов"
						min="1"
						max="9"
						required
					/>
					<input
						type="time"
						class="entry-form__input"
						min="10:00"
						max="22:00"
						required
					/>
					<!-- Добавляем скрытое поле для даты -->
					<input type="hidden" name="date" id="date-input-calendar" />
					<div id="calendar"></div>
					<button class="entry-form__button button" type="submit">
						Записаться
					</button>
				</form>
			</div>
		</main>
		<footer class="footer"></footer>

		<dialog class="auth-overlay" id="auth-overlay">
			<form class="auth-form" method="POST" action="/login">
				<input type="email" class="auth-input" placeholder="Email" />
				<input type="password" class="auth-input" placeholder="Пароль" />
				<button class="auth-button button">Авторизация</button>
			</form>
		</dialog>

		<dialog class="reg-overlay" id="reg-overlay">
			<form class="reg-form" method="POST" action="/register">
				<input type="text" class="reg-input" placeholder="Имя" />
				<input type="email" class="reg-input" placeholder="Email" />
				<input type="password" class="reg-input" placeholder="Пароль" />
				<button class="reg-button button">Зарегистрироваться</button>
			</form>
		</dialog>

		<dialog id="userCabinetDialog" class="userCabinetDialog">
			<h2 class="userCabinetDialog__title">Личный кабинет</h2>

			<div class="userCabinetDialog__info">
				<p>Имя: <span id="userFullName"></span></p>
				<p>Email: <span id="userEmail"></span></p>
				<p>Дата регистрации: <span id="userRegDate"></span></p>
			</div>

			<h3 class="userCabinetDialog__sub-title">Мои записи</h3>

			<table class="userCabinetDialog__table">
				<thead>
					<tr>
						<th>Услуга</th>
						<th>Комната</th>
						<th>Дата</th>
						<th>Время</th>
						<th>Статус</th>
						<th>Действия</th>
					</tr>
				</thead>
				<tbody id="userBookingsTable"></tbody>
			</table>

			<button onclick="userCabinet.closeUserCabinet()">Закрыть</button>
		</dialog>

		<dialog id="adminPanelDialog">
			<div class="tabs">
				<button class="tablinks" onclick="openTab(event, 'users')">
					Пользователи
				</button>
				<button class="tablinks" onclick="openTab(event, 'allBookings')">
					Все записи
				</button>
				<button class="tablinks" onclick="openTab(event, 'pendingBookings')">
					На подтверждение
				</button>
				<button class="tablinks" onclick="openTab(event, 'rejectedBookings')">
					Отклоненные
				</button>
				<button class="tablinks" onclick="openTab(event, 'employees')">
					Сотрудники
				</button>
			</div>

			<div id="users" class="tabcontent">
				<div class="users-controls">
					<input
						type="text"
						id="searchUsers"
						placeholder="Поиск пользователей..."
					/>
					<select id="sortBy">
						<option value="FullName">Сортировать по имени</option>
						<option value="Email">Сортировать по email</option>
						<option value="RegistrationDate">
							Сортировать по дате регистрации
						</option>
					</select>
					<select id="sortOrder">
						<option value="asc">По возрастанию</option>
						<option value="desc">По убыванию</option>
					</select>
					<input type="date" id="dateFrom" placeholder="Дата от" />
					<input type="date" id="dateTo" placeholder="Дата до" />
					<button id="resetFilters">Сбросить фильтры</button>
				</div>
				<table>
					<thead>
						<tr>
							<th>Имя</th>
							<th>Email</th>
							<th>Дата регистрации</th>
						</tr>
					</thead>
					<tbody id="usersTableBody"></tbody>
				</table>
				<button id="exportToWord">Экспорт в Word</button>
				<button id="exportVisitsToWord">Экспорт визитов</button>
				<button id="exportServicesStats">Статистика по услугам</button>
				<button id="exportBookingsStats">Статистика записей</button>
			</div>

			<div id="allBookings" class="tabcontent">
				<table>
					<thead>
						<tr>
							<th>Пользователь</th>
							<th>Комната</th>
							<th>Услуга</th>
							<th>Дата начала</th>
							<th>Дата окончания</th>
							<th>Статус</th>
						</tr>
					</thead>
					<tbody id="allBookingsTableBody"></tbody>
				</table>
			</div>

			<!-- Вкладка записей на подтверждение -->
			<div id="pendingBookings" class="tabcontent">
				<table>
					<thead>
						<tr>
							<th>Пользователь</th>
							<th>Комната</th>
							<th>Услуга</th>
							<th>Дата начала</th>
							<th>Дата окончания</th>
							<th>Действия</th>
						</tr>
					</thead>
					<tbody id="pendingBookingsTableBody"></tbody>
				</table>
			</div>

			<div id="rejectedBookings" class="tabcontent">
				<table>
					<thead>
						<tr>
							<th>Пользователь</th>
							<th>Email</th>
							<th>Комната</th>
							<th>Услуга</th>
							<th>Дата</th>
						</tr>
					</thead>
					<tbody id="rejectedBookingsTableBody"></tbody>
				</table>
			</div>

			<div id="employees" class="tabcontent">
				<table>
					<thead>
						<tr>
							<th>Имя</th>
							<th>Должность</th>
							<th>Записи</th>
						</tr>
					</thead>
					<tbody id="employeesTableBody"></tbody>
				</table>
				<button id="exportEmployeesStats">Экспорт сотрудников</button>
			</div>
		</dialog>

		<script type="module" src="./js/main.js"></script>
	</body>
</html>
